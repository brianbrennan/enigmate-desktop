function loadFile(a){loading=!0;var b,c=new Number(a);fs.readFile(FILE_PATH+files[c],function(a,c){b=a?a:c.toString(),active_file=b,s(".main-view .empty").css("display","none"),s(".main-view .content pre").innerHtml(b);var d=s("pre").innerHtml()[0];s(".main-view .content pre").innerHtml(d.replace(/^(.*)$/gm,'<span class="line">$1</span>')),loading=!1})}var remote=require("remote"),fs=require("fs"),Enigma=require("enigma.js"),e=new Enigma({sequence:"ascii",rotorSettings:"99Taps",spaces:!0}),FILE_PATH="./app/files/",files=[],active_file,loading=!1,maxed=!1;fs.readdir(FILE_PATH,function(a,b){if(a)files[c]="Something Went Wrong";else{files=b;for(var c=0;c<files.length;c++)s(".sidebar ul").insert('<li value="'+c+'">'+files[c]+"</li>");s(".sidebar ul li").on("click",function(a){s(".sidebar ul li").removeClass(),s(this).addClass("active"),loadFile(s(this).attr("value")[0])})}}),s("#close-window").on("click",function(a){var b=remote.getCurrentWindow();b.close()}),s("#maximize-window").on("click",function(a){var b=remote.getCurrentWindow();maxed?(b.unmaximize(),maxed=!1):(b.maximize(),maxed=!0)}),s("#minimize-window").on("click",function(a){var b=remote.getCurrentWindow();b.minimize()}),s("#encrypt-file").on("click",function(a){return a?a:void fs.readFile("in.txt",function(b,c){m=a.encrypt(c.toString()),fs.writeFile("encrypted.ej",m,function(b){m=a.decrypt(m),fs.writeFile("out.txt",m,function(a){})})})});