function mapFileTree(a){fs.readdir(a,function(b,c){b?files[0]="Something Went Wrong":files=c;for(var d=0;d<files.length;d++)fs.lstatSync(a).isDirectory()?mapFileTree(a+"/"+files[d]):console.log(files[d])})}function loadFile(a){loading=!0;var b,c=new Number(a);fs.readFile(FILE_PATH+files[c],function(a,c){b=a?a:c.toString(),active_file=b,s(".main-view .empty").css("display","none"),s(".main-view .content pre").innerHtml(b);var d=s("pre").innerHtml()[0];s(".main-view .content pre").innerHtml(d.replace(/^(.*)$/gm,'<span class="line">$1</span>')),loading=!1})}var remote=require("remote"),fs=require("fs"),Enigma=require("enigma.js"),e=new Enigma({sequence:"ascii",rotorSettings:"Welcome ToTheJugleWeGot99Problems",spaces:!0}),FILE_PATH="./app/files/",files=[],active_file,loading=!1,maxed=!1;mapFileTree(FILE_PATH),s("#close-window").on("click",function(a){var b=remote.getCurrentWindow();b.close()}),s("#maximize-window").on("click",function(a){var b=remote.getCurrentWindow();maxed?(b.unmaximize(),maxed=!1):(b.maximize(),maxed=!0)}),s("#minimize-window").on("click",function(a){var b=remote.getCurrentWindow();b.minimize()}),s("#encrypt-file").on("click",function(a){var b=e.encrypt(active_file);fs.writeFile(FILE_PATH+"/encrypted.ej",b,function(a){a&&console.log(a)})}),s("#decrypt-file").on("click",function(a){var b=e.decrypt(active_file);fs.writeFile(FILE_PATH+"/decrypted.txt",b,function(a){a&&console.log(a)})});